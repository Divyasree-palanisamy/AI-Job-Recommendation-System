# Email Configuration Guide for Password Reset

## Why Emails Aren't Being Sent

Your Flask app is currently configured with placeholder email settings. To send real emails, you need to configure a real email service.

## Quick Setup Options

### Option 1: Gmail (Recommended for Testing)

1. **Enable 2-Factor Authentication** on your Gmail account
2. **Generate App Password**:
   - Go to Google Account settings
   - Security → 2-Step Verification → App passwords
   - Generate password for "Mail"
   - Copy the 16-character password

3. **Create `.env` file** in your project root:
```
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USE_SSL=False
MAIL_USERNAME=your_gmail@gmail.com
MAIL_PASSWORD=your_16_character_app_password
MAIL_DEFAULT_SENDER=your_gmail@gmail.com
```

### Option 2: Outlook/Hotmail

```
MAIL_SERVER=smtp-mail.outlook.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USE_SSL=False
MAIL_USERNAME=your_email@outlook.com
MAIL_PASSWORD=your_password
MAIL_DEFAULT_SENDER=your_email@outlook.com
```

### Option 3: Yahoo Mail

```
MAIL_SERVER=smtp.mail.yahoo.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USE_SSL=False
MAIL_USERNAME=your_email@yahoo.com
MAIL_PASSWORD=your_app_password
MAIL_DEFAULT_SENDER=your_email@yahoo.com
```

### Option 4: Production Email Services

For production, use professional email services:

#### SendGrid
```
MAIL_SERVER=smtp.sendgrid.net
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USERNAME=apikey
MAIL_PASSWORD=your_sendgrid_api_key
```

#### Mailgun
```
MAIL_SERVER=smtp.mailgun.org
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USERNAME=postmaster@yourdomain.mailgun.org
MAIL_PASSWORD=your_mailgun_password
```

#### AWS SES
```
MAIL_SERVER=email-smtp.us-east-1.amazonaws.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USERNAME=your_ses_smtp_username
MAIL_PASSWORD=your_ses_smtp_password
```

## How to Set Environment Variables

### Method 1: .env file (Recommended)
Create a file named `.env` in your project root:

```
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USERNAME=your_email@gmail.com
MAIL_PASSWORD=your_app_password
MAIL_DEFAULT_SENDER=noreply@careerguidance.com
```

### Method 2: Windows Environment Variables
Set them in Windows System Environment Variables:

```
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USERNAME=your_email@gmail.com
MAIL_PASSWORD=your_app_password
```

### Method 3: Command Line
```
set MAIL_SERVER=smtp.gmail.com
set MAIL_PORT=587
set MAIL_USERNAME=your_email@gmail.com
set MAIL_PASSWORD=your_app_password
```

## Testing Email Configuration

1. **Create a test user** with a real email address
2. **Go to forgot password page**
3. **Enter the email** and submit
4. **Check your email** (including spam/junk folder)
5. **Click the reset link** in the email

## Troubleshooting

### Common Issues:

1. **"Authentication failed"**
   - Check username/password
   - For Gmail: Use App Password, not regular password
   - Make sure 2FA is enabled

2. **Emails going to spam**
   - Add the sender email to your contacts
   - Check spam/junk folders
   - Use a reputable email service

3. **"Connection timed out"**
   - Check MAIL_PORT (587 for TLS, 465 for SSL)
   - Verify MAIL_USE_TLS/MAIL_USE_SSL settings
   - Check firewall/antivirus blocking SMTP

4. **"Daily sending limit exceeded"**
   - Gmail allows 500 emails/day for free accounts
   - Use a professional email service for production

### Debug Mode

Add this to your app.py to see email errors:

```python
app.config['MAIL_DEBUG'] = True
```

### Test Email Function

You can test email sending with this code:

```python
from flask_mail import Message
from app import mail, app

with app.app_context():
    msg = Message("Test Subject", recipients=["test@example.com"])
    msg.body = "Test email body"
    msg.html = "<h1>Test HTML</h1>"
    mail.send(msg)
    print("Email sent!")
```

## Security Notes

- **Never commit** email credentials to version control
- **Use environment variables** for sensitive data
- **Enable 2FA** on your email account
- **Use App Passwords** instead of regular passwords
- **Consider email verification** for user registration

## Production Deployment

1. Use a professional email service (SendGrid, Mailgun, AWS SES)
2. Set up SPF/DKIM records for better deliverability
3. Monitor email bounce rates and complaints
4. Implement email templates with unsubscribe links
5. Use a service like Mailchimp for bulk emails if needed

## Current Status

The app is now configured to send real emails once you provide valid email credentials. The password reset functionality will work properly with email delivery.
