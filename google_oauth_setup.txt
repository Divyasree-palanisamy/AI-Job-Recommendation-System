# Google OAuth Setup Guide for Career Portal

## Why You're Getting the Error

The error "OAuth client was not found" and "invalid_client" occurs because:
1. The Google Client ID in your configuration is set to placeholder values
2. Google doesn't recognize these as valid OAuth clients
3. You need to create real Google OAuth credentials

## Step-by-Step Google OAuth Setup

### Step 1: Create Google Cloud Project
1. Go to https://console.cloud.google.com/
2. Click "Create Project" (or select existing project)
3. Give it a name like "Career Portal OAuth"
4. Click "Create"

### Step 2: Enable Google+ API
1. In the left sidebar, go to "APIs & Services" → "Library"
2. Search for "Google+ API"
3. Click on it and enable it
4. Also enable "People API" if needed

### Step 3: Create OAuth Credentials
1. Go to "APIs & Services" → "Credentials"
2. Click "Create Credentials" → "OAuth 2.0 Client IDs"
3. Configure OAuth consent screen:
   - User Type: "External"
   - App name: "Smart Career Guidance & Employment Portal"
   - User support email: Your email
   - Developer contact info: Your email
   - Save and continue
4. Scopes: Click "Add or remove scopes"
   - Add "openid", "email", "profile"
   - Save and continue
5. Test users: Add your email as a test user
6. Save

### Step 4: Create Client ID
1. Back in Credentials page
2. Click "Create Credentials" → "OAuth 2.0 Client IDs"
3. Application type: "Web application"
4. Name: "Career Portal Web Client"
5. Authorized redirect URIs:
   - `http://127.0.0.1:5007/auth/google/callback` (for local development)
   - `http://localhost:5007/auth/google/callback` (alternative)
   - For production: `https://yourdomain.com/auth/google/callback`
6. Click "Create"

### Step 5: Get Your Credentials
1. You'll see a popup with:
   - **Client ID**: Copy this long string
   - **Client Secret**: Copy this secret string
2. Download the JSON file for backup

### Step 6: Configure Your App
Create a `.env` file in your project root with:

```
GOOGLE_CLIENT_ID=your_actual_google_client_id_here
GOOGLE_CLIENT_SECRET=your_actual_google_client_secret_here
```

Replace with your real values from Step 5.

### Step 7: Test OAuth
1. Restart your Flask app: `python app.py`
2. Go to login page: http://127.0.0.1:5007/login
3. Click "Login with Google"
4. You should now see Google's OAuth consent screen
5. Grant permission and you'll be logged in automatically

## Troubleshooting Common Issues

### "redirect_uri_mismatch"
- Make sure the redirect URI in Google Console exactly matches your app's callback URL
- Include the full path: `/auth/google/callback`
- Use `http://127.0.0.1:5007` for local development

### "invalid_client"
- Double-check your Client ID and Client Secret
- Make sure there are no extra spaces
- Verify the OAuth client is for "Web application" type

### "access_denied"
- Make sure your email is added as a test user in the OAuth consent screen
- For production apps, you'll need to submit for verification

### "This app is not verified"
- This is normal for new OAuth apps
- Click "Advanced" → "Go to [your app name] (unsafe)"
- For production, you'll need to verify your app with Google

## Production Deployment

When deploying to production:

1. **Update redirect URIs** in Google Console:
   - Replace `http://127.0.0.1:5007` with your actual domain
   - Example: `https://careerguidance.com/auth/google/callback`

2. **Verify your app** with Google:
   - Go to OAuth consent screen
   - Click "Publish App"
   - Submit for verification (requires business info, privacy policy, etc.)

3. **Set environment variables** securely:
   - Use your hosting platform's environment variable settings
   - Never commit real credentials to version control

## Security Notes

- **Never share** your Client Secret publicly
- **Use HTTPS** in production (OAuth requires secure connections)
- **Regularly rotate** your credentials
- **Monitor usage** in Google Cloud Console
- **Set up billing alerts** to prevent unexpected charges

## Alternative: Disable OAuth Temporarily

If you want to disable OAuth buttons until properly configured, the app now shows helpful messages when OAuth isn't set up.

## Current Status

Your app now checks if OAuth is properly configured before attempting authentication. Users will see a friendly message if OAuth isn't set up yet, instead of getting cryptic Google errors.

## Need Help?

If you encounter issues:
1. Check the Flask console for error messages
2. Verify your credentials in the `.env` file
3. Test the OAuth URLs manually in your browser
4. Check Google Cloud Console for any error messages

The OAuth flow is now production-ready once you configure real Google credentials!
